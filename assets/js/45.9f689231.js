(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{444:function(a,e,t){"use strict";t.r(e);var s=t(48),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"为什么要用docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用docker"}},[a._v("#")]),a._v(" 为什么要用Docker")]),a._v(" "),t("p",[a._v("环境隔离性强（应用隔离，互不打扰）")]),a._v(" "),t("p",[a._v("跨平台，内部为Centos或者ubuntn的文件可运行在Mac Linux Windos等多个平台")]),a._v(" "),t("p",[a._v("可快速构建或删除，使用现成的Docker镜像快速构建各种开发环境，切性能远远强于虚拟机")]),a._v(" "),t("p",[a._v("可以轻松迁移和进行扩展")]),a._v(" "),t("p",[a._v("总结下来就是 为了更高效的去搭建各种开发环境，解决各种环境迁移扩展复杂的痛点")]),a._v(" "),t("h2",{attrs:{id:"docker基本概念和基本操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker基本概念和基本操作"}},[a._v("#")]),a._v(" docker基本概念和基本操作")]),a._v(" "),t("p",[a._v("Docker基于Go语言，dotCloud公司开发")]),a._v(" "),t("h1",{attrs:{id:"docker镜像-系统盘-只读的模版-里边包含了一套自定义的开发环境配置-可以理解为装系统的u盘。可自建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像-系统盘-只读的模版-里边包含了一套自定义的开发环境配置-可以理解为装系统的u盘。可自建镜像"}},[a._v("#")]),a._v(" Docker镜像（系统盘）：只读的模版，里边包含了一套自定义的开发环境配置，可以理解为装系统的U盘。可自建镜像")]),a._v(" "),t("p",[a._v("常见操作以及一个小demo")]),a._v(" "),t("p",[a._v("列出可用镜像列表")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker images \n")])])]),t("p",[a._v("获取一个新的镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker pull ubuntu:13.10\n")])])]),t("p",[a._v("查找镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker search httpd\n")])])]),t("p",[a._v("使用镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker run httpd\n")])])]),t("p",[a._v("删除镜像  如果镜像有关联的container正在运行是无法删除镜像的需要停止或者删除相关联的容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker rmi hello-world\n")])])]),t("p",[a._v("创建镜像\n从已经创建的容器中更新镜像，")]),a._v(" "),t("p",[a._v("构建镜像")]),a._v(" "),t("p",[a._v("先创建一个Dockerfile文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ mkdir Dockerfile\n")])])]),t("p",[a._v("Dockerfile内容")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('FROM alpine:latest\nMaintainer start\nCMD echo "hi MarginGao"\n')])])]),t("p",[a._v("创建镜像")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker build -t gc .\n")])])]),t("p",[a._v("-t 指定要创建的目标镜像名")]),a._v(" "),t("p",[a._v("使用新的镜像创建一个容器 输出 hi MarginGao")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker run gc\nhi MarginGao\n")])])]),t("h1",{attrs:{id:"docker容器-集装箱-容器用来隔离应用-使用镜像创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker容器-集装箱-容器用来隔离应用-使用镜像创建"}},[a._v("#")]),a._v(" Docker容器（集装箱）：容器用来隔离应用，使用镜像创建")]),a._v(" "),t("p",[a._v("创建容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker run -t ubuntu /bin/bash\n")])])]),t("p",[a._v("-t 终端\nubuntu  ubuntu 镜像\n/bin/bash  命令，我们希望有个交互式的shell\n此时我们以及进入docker创建好的ubuntu容器内部\n退出终端  exit")]),a._v(" "),t("p",[a._v("后台运行\n大部分场景下我们希望docker的服务是运行在后台的，通过-d指定容器的运行模式，加了-d参数默认不会进入容器，想要进入容器需要使用指令\ndocker exec")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker run -itd --name ubuntu-tet ubuntu /bin/bash\n")])])]),t("p",[a._v("进入带-d参数的容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker exec -it 容器id /bin/bash\n")])])]),t("p",[a._v("删除容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker rm -f 1e560fca3906\n")])])]),t("p",[a._v("官方建议的批量停止容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker rm $(sudo docker ps -a -q)\n")])])]),t("p",[a._v("批量删除容器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$ docker rm -f $(sudo docker ps -a -q)\n")])])]),t("p",[a._v("-a 列出所有容器\n-p 只显示数字ID\n-f 强制删除")])])}),[],!1,null,null,null);e.default=r.exports}}]);